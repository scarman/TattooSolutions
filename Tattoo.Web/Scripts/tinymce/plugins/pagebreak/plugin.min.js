tinymce.PluginManager.add("pagebreak",function(n){var t="mce-pagebreak",i=n.getParam("pagebreak_separator","<!-- pagebreak -->"),u=new RegExp(i.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(n){return"\\"+n}),"gi"),r='<img src="'+tinymce.Env.transparentSrc+'" class="'+t+'" data-mce-resize="false" />';n.addCommand("mcePageBreak",function(){n.settings.pagebreak_split_block?n.insertContent("<p>"+r+"<\/p>"):n.insertContent(r)});n.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"});n.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"});n.on("ResolveName",function(i){i.target.nodeName=="IMG"&&n.dom.hasClass(i.target,t)&&(i.name="pagebreak")});n.on("click",function(i){i=i.target;i.nodeName==="IMG"&&n.dom.hasClass(i,t)&&n.selection.select(i)});n.on("BeforeSetContent",function(n){n.content=n.content.replace(u,r)});n.on("PreInit",function(){n.serializer.addNodeFilter("img",function(t){for(var e=t.length,r,f,u;e--;)if(r=t[e],f=r.attr("class"),f&&f.indexOf("mce-pagebreak")!==-1){if(u=r.parent,n.schema.getBlockElements()[u.name]&&n.settings.pagebreak_split_block){u.type=3;u.value=i;u.raw=!0;r.remove();continue}r.type=3;r.value=i;r.raw=!0}})})});
/*
//# sourceMappingURL=plugin.min.js.map
*/