tinymce.PluginManager.add("preview",function(n){var t=n.settings,i=!tinymce.Env.ie;n.addCommand("mcePreview",function(){n.windowManager.open({title:"Preview",width:parseInt(n.getParam("plugin_preview_width","650"),10),height:parseInt(n.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(i?' sandbox="allow-scripts"':"")+"><\/iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var e,o="",r,u,s,f;o+='<base href="'+n.documentBaseURI.getURI()+'">';tinymce.each(n.contentCSS,function(t){o+='<link type="text/css" rel="stylesheet" href="'+n.documentBaseURI.toAbsolute(t)+'">'});r=t.body_id||"tinymce";r.indexOf("=")!=-1&&(r=n.getParam("body_id","","hash"),r=r[n.id]||r);u=t.body_class||"";u.indexOf("=")!=-1&&(u=n.getParam("body_class","","hash"),u=u[n.id]||"");s=n.settings.directionality?' dir="'+n.settings.directionality+'"':"";e="<!DOCTYPE html><html><head>"+o+'<\/head><body id="'+r+'" class="mce-content-body '+u+'"'+s+">"+n.getContent()+"<\/body><\/html>";i?this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(e):(f=this.getEl("body").firstChild.contentWindow.document,f.open(),f.write(e),f.close())}})});n.addButton("preview",{title:"Preview",cmd:"mcePreview"});n.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})});
/*
//# sourceMappingURL=plugin.min.js.map
*/